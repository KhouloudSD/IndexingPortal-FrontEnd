


<div class="card flex justify-content-center">
    <p-toast></p-toast>
    <p-fileUpload name="demo[]" (onSelect)="onFileSelect($event)" [multiple]="false"  [maxFileSize]="1000000">
      <ng-template pTemplate="content">
        <ul *ngIf="selectedFile">
          <li>{{ selectedFile.name }} - {{ selectedFile.size }} bytes</li>
        </ul>
      </ng-template>
    </p-fileUpload>
  </div>
  
  
  
  
  <p-table [value]="documents" [paginator]="true" [rows]="10" [responsive]="true"  [loading]="loading">
    <ng-template pTemplate="header">
      <tr>
        <th>Document Name</th>
        <th>Document Type</th>
        <th>Created Date</th>
        <th>Actions</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-document>
      <tr>
        <td>{{ document.documentName }}</td>
        <td>{{ document.extension }}</td>
        <td>{{ document.createdDate }}</td>
        <td>
            <p-button [rounded]="true" [text]="true"  icon="pi pi-download" class="small-button" (click)="this.downloadDocument(document.documentName, this.id)"></p-button>
            <p-button *ngIf="!isEml(document)" [rounded]="true" [text]="true"  icon="pi pi-file-edit" class="small-button" (click)="editDocument(document)"></p-button>
            <p-button *ngIf="!isEml(document)" [rounded]="true" [text]="true"  icon="pi pi-trash" class="small-button" (click)="confirmDelete(document.id)"></p-button>
          </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
        <tr>
            <td colspan="8">No documents found.</td>
        </tr>
    </ng-template>
    <ng-template pTemplate="loadingbody">
        <tr>
            <td colspan="8">Loading documents data. Please wait.</td>
        </tr>
    </ng-template>
  </p-table>
  
  <div class="card flex justify-content-center gap-2">
    <p-toast></p-toast>
    <p-confirmDialog [style]="{width: '50vw'}"></p-confirmDialog>
  </div>
  